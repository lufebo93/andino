/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ec.com.cebycam.vistas.Medico;
import ec.com.cebycam.vistas.frmCambiarClave;
import java.awt.*;
import static java.awt.Frame.MAXIMIZED_BOTH;
import java.awt.image.BufferedImage;
import java.io.*;
import java.sql.SQLException;
import java.util.logging.*;
import javax.imageio.ImageIO;
import javax.swing.*;

/**
 *
 * @author lufeb
 */
public final class frmPrincipal extends javax.swing.JFrame {
    public static String dato=null;
    /**
     * Creates new form frmPrincipal
     */
    public frmPrincipal(){
        initComponents();
        frmPrincipal.txtMedicoWelcome.setText(dato);
        this.setExtendedState(MAXIMIZED_BOTH);
        this.setMinimumSize(new Dimension(1280, 768)); 
        setIconImage(new ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/icono.png")).getImage());
        this.setDefaultCloseOperation(frmPrincipal.DO_NOTHING_ON_CLOSE);
    }
   
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        try {
            File imageFile = new File("fondoprincipal.png");
            FileInputStream fin;
            fin = new FileInputStream(imageFile);
            BufferedImage image = ImageIO.read(fin);
            image.getScaledInstance(653,493,BufferedImage.SCALE_SMOOTH);
            escritorio = new javax.swing.JDesktopPane(){
                public void paintComponent(Graphics g){
                    g.drawImage(image, 0, 0, getWidth(), getHeight(),this);
                }
            };
            txtMedicoWelcome = new javax.swing.JTextField();
            jLabel1 = new javax.swing.JLabel();
            jMenuBar1 = new javax.swing.JMenuBar();
            MenuPaciente = new javax.swing.JMenu();
            AtencionPaciente = new javax.swing.JMenuItem();
            VisorImagenes = new javax.swing.JMenuItem();
            MenuReportes = new javax.swing.JMenu();
            ReporteRecetas = new javax.swing.JMenuItem();
            ReporteListar = new javax.swing.JMenuItem();
            MenuModificar = new javax.swing.JMenu();
            ModificarRecetaMedica = new javax.swing.JMenuItem();
            ModificarOrdenExamen = new javax.swing.JMenuItem();
            menuAtencion = new javax.swing.JMenuItem();
            MenuAyuda = new javax.swing.JMenu();
            BarAcerca = new javax.swing.JMenuItem();
            barManual = new javax.swing.JMenuItem();
            BarCambioClave = new javax.swing.JMenuItem();
            BarSalir = new javax.swing.JMenuItem();

            setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);
            setTitle("CEBYCAM-CES :: Escritorio");
            setBackground(new java.awt.Color(51, 153, 255));
            addWindowListener(new java.awt.event.WindowAdapter() {
                public void windowClosing(java.awt.event.WindowEvent evt) {
                    formWindowClosing(evt);
                }
            });

        } catch (FileNotFoundException ex) {
            Logger.getLogger(frmPrincipal.class.getName()).log(Level.SEVERE, null, ex);
        } catch (IOException ex) {
            Logger.getLogger(frmPrincipal.class.getName()).log(Level.SEVERE, null, ex);
        }

        txtMedicoWelcome.setEditable(false);
        txtMedicoWelcome.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        txtMedicoWelcome.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));

        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel1.setText("Bienvenido");

        escritorio.setLayer(txtMedicoWelcome, javax.swing.JLayeredPane.DEFAULT_LAYER);
        escritorio.setLayer(jLabel1, javax.swing.JLayeredPane.DEFAULT_LAYER);

        javax.swing.GroupLayout escritorioLayout = new javax.swing.GroupLayout(escritorio);
        escritorio.setLayout(escritorioLayout);
        escritorioLayout.setHorizontalGroup(
            escritorioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, escritorioLayout.createSequentialGroup()
                .addContainerGap(525, Short.MAX_VALUE)
                .addGroup(escritorioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(txtMedicoWelcome, javax.swing.GroupLayout.DEFAULT_SIZE, 121, Short.MAX_VALUE)
                    .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        escritorioLayout.setVerticalGroup(
            escritorioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(escritorioLayout.createSequentialGroup()
                .addComponent(jLabel1)
                .addGap(7, 7, 7)
                .addComponent(txtMedicoWelcome, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(456, Short.MAX_VALUE))
        );

        MenuPaciente.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/atencion-0.png")));
        MenuPaciente.setText("Atención");

        AtencionPaciente.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_P, java.awt.event.InputEvent.CTRL_MASK));
        AtencionPaciente.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/paciente-0.png")));
        AtencionPaciente.setText("Paciente");
        AtencionPaciente.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                AtencionPacienteActionPerformed(evt);
            }
        });
        MenuPaciente.add(AtencionPaciente);

        VisorImagenes.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/paciente-0.png")));
        VisorImagenes.setText("Visor de imágenes");
        VisorImagenes.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                VisorImagenesActionPerformed(evt);
            }
        });
        MenuPaciente.add(VisorImagenes);

        jMenuBar1.add(MenuPaciente);

        MenuReportes.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/reporte_256px-0.png")));
        MenuReportes.setText("Reportes");

        ReporteRecetas.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_R, java.awt.event.InputEvent.CTRL_MASK));
        ReporteRecetas.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/receta_256px-0.png")));
        ReporteRecetas.setText("Recetas");
        ReporteRecetas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ReporteRecetasActionPerformed(evt);
            }
        });
        MenuReportes.add(ReporteRecetas);

        ReporteListar.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_E, java.awt.event.InputEvent.CTRL_MASK));
        ReporteListar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/orden_examen_256px-0.png")));
        ReporteListar.setText("Orden de exámenes");
        ReporteListar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ReporteListarActionPerformed(evt);
            }
        });
        MenuReportes.add(ReporteListar);

        jMenuBar1.add(MenuReportes);

        MenuModificar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/editar_256px-0.png")));
        MenuModificar.setText("Modificar");

        ModificarRecetaMedica.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/receta_256px-0.png")));
        ModificarRecetaMedica.setText("Recetas Médicas");
        ModificarRecetaMedica.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ModificarRecetaMedicaActionPerformed(evt);
            }
        });
        MenuModificar.add(ModificarRecetaMedica);

        ModificarOrdenExamen.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/orden_examen_256px-0.png")));
        ModificarOrdenExamen.setText("Orden de exámenes");
        ModificarOrdenExamen.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ModificarOrdenExamenActionPerformed(evt);
            }
        });
        MenuModificar.add(ModificarOrdenExamen);

        menuAtencion.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/atencion-0.png"))); // NOI18N
        menuAtencion.setText("Atención");
        menuAtencion.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuAtencionActionPerformed(evt);
            }
        });
        MenuModificar.add(menuAtencion);

        jMenuBar1.add(MenuModificar);

        MenuAyuda.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/ayuda-0.png")));
        MenuAyuda.setText("Ayuda");

        BarAcerca.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/acerca_de_256px-0.png")));
        BarAcerca.setText("Acerca de ");
        BarAcerca.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BarAcercaActionPerformed(evt);
            }
        });
        MenuAyuda.add(BarAcerca);

        barManual.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/listar_256px-0.png"))); // NOI18N
        barManual.setText("Manual de Usuario");
        barManual.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                barManualActionPerformed(evt);
            }
        });
        MenuAyuda.add(barManual);

        BarCambioClave.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/clave_256px-0.png")));
        BarCambioClave.setText("Cambiar clave");
        BarCambioClave.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BarCambioClaveActionPerformed(evt);
            }
        });
        MenuAyuda.add(BarCambioClave);

        BarSalir.setIcon(new javax.swing.ImageIcon(getClass().getResource("/ec/com/cebycam/imagenes/salir_256px-0.png")));
        BarSalir.setText("Salir");
        BarSalir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BarSalirActionPerformed(evt);
            }
        });
        MenuAyuda.add(BarSalir);

        jMenuBar1.add(MenuAyuda);

        setJMenuBar(jMenuBar1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(escritorio)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(escritorio, javax.swing.GroupLayout.Alignment.TRAILING)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents
    
    public void cerrar(){
        if (JOptionPane.showConfirmDialog(this, "¿Desea realmente salir del sistema?",
                "CEBYCAM-CES", JOptionPane.YES_NO_OPTION) == JOptionPane.YES_OPTION){
            System.exit(0);
        }
    }
    
    public void abrirarchivo(String archivo){
         try {
            File objetofile = new File (archivo);
            Desktop.getDesktop().open(objetofile);
         }catch (IOException ex) {
            JOptionPane.showMessageDialog(this, "Error "+ex,
                    "CEBYCAM-CES", JOptionPane.INFORMATION_MESSAGE);
         }
    } 
    
    private void ReporteRecetasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ReporteRecetasActionPerformed
        frmReceta receta = null;
        try {
            receta = new frmReceta();
        } catch (SQLException | IOException ex) {
            Logger.getLogger(frmPrincipal.class.getName()).log(Level.SEVERE, null, ex);
        }
        escritorio.add(receta);
        receta.setVisible(true);
    }//GEN-LAST:event_ReporteRecetasActionPerformed

    private void BarSalirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BarSalirActionPerformed
        cerrar();
    }//GEN-LAST:event_BarSalirActionPerformed

    private void BarCambioClaveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BarCambioClaveActionPerformed
        JOptionPane.showMessageDialog(this, "Recuerde, el sistema se cerrará \n    luego de cambiar la clave!",
                                "CEBYCAM-CES", JOptionPane.INFORMATION_MESSAGE);
        frmCambiarClave frm = new frmCambiarClave();
        frm.setVisible(true);
    }//GEN-LAST:event_BarCambioClaveActionPerformed

    private void formWindowClosing(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowClosing
        cerrar();
    }//GEN-LAST:event_formWindowClosing

    private void ReporteListarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ReporteListarActionPerformed
        frmExamen exam = null;
        try {
            exam = new frmExamen();
        } catch (SQLException | IOException ex) {
            Logger.getLogger(frmPrincipal.class.getName()).log(Level.SEVERE, null, ex);
        }
        escritorio.add(exam);
        exam.setVisible(true);
    }//GEN-LAST:event_ReporteListarActionPerformed

    private void BarAcercaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BarAcercaActionPerformed
        JOptionPane.showMessageDialog(this, "Sistema médico CEBYCAM-CES. Versión 2.5\nCopyright (C). 2019. UNACH-VINCULACIÓN\n        Todos los Derechos Reservados", "CEBYCAM-CES",
                JOptionPane.INFORMATION_MESSAGE );
    }//GEN-LAST:event_BarAcercaActionPerformed

    private void ModificarOrdenExamenActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ModificarOrdenExamenActionPerformed
        frmModificarExamen frm = null;
        try {
            frm = new frmModificarExamen();
        } catch (SQLException | IOException ex) {
            Logger.getLogger(frmPrincipal.class.getName()).log(Level.SEVERE, null, ex);
        }
        escritorio.add(frm);
        frm.setVisible(true);
    }//GEN-LAST:event_ModificarOrdenExamenActionPerformed

    private void ModificarRecetaMedicaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ModificarRecetaMedicaActionPerformed
        frmModificarReceta frm = null;
        try {
            frm = new frmModificarReceta();
        } catch (SQLException | IOException ex) {
            Logger.getLogger(frmPrincipal.class.getName()).log(Level.SEVERE, null, ex);
        }
        escritorio.add(frm);
        frm.setVisible(true);
    }//GEN-LAST:event_ModificarRecetaMedicaActionPerformed

    private void AtencionPacienteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_AtencionPacienteActionPerformed
        frmAtencionPaciente atencion = null;
        try {
            atencion = new frmAtencionPaciente();
        } catch (IOException ex) {
            Logger.getLogger(frmPrincipal.class.getName()).log(Level.SEVERE, null, ex);
        }
        escritorio.add(atencion);
        atencion.setVisible(true);
    }//GEN-LAST:event_AtencionPacienteActionPerformed

    private void VisorImagenesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_VisorImagenesActionPerformed
        frmFotos frm = new frmFotos();
        frm.setVisible(true);
    }//GEN-LAST:event_VisorImagenesActionPerformed

    private void barManualActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_barManualActionPerformed
        abrirarchivo("manual.chm");
    }//GEN-LAST:event_barManualActionPerformed

    private void menuAtencionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuAtencionActionPerformed
        frmModificarAtencion atencion = null;
        try {
            atencion = new frmModificarAtencion();
        } catch (SQLException | IOException ex) {
            Logger.getLogger(frmPrincipal.class.getName()).log(Level.SEVERE, null, ex);
        }
        escritorio.add(atencion);
        atencion.setVisible(true);
    }//GEN-LAST:event_menuAtencionActionPerformed

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JMenuItem AtencionPaciente;
    private javax.swing.JMenuItem BarAcerca;
    private javax.swing.JMenuItem BarCambioClave;
    private javax.swing.JMenuItem BarSalir;
    private javax.swing.JMenu MenuAyuda;
    private javax.swing.JMenu MenuModificar;
    private javax.swing.JMenu MenuPaciente;
    private javax.swing.JMenu MenuReportes;
    private javax.swing.JMenuItem ModificarOrdenExamen;
    private javax.swing.JMenuItem ModificarRecetaMedica;
    private javax.swing.JMenuItem ReporteListar;
    private javax.swing.JMenuItem ReporteRecetas;
    private javax.swing.JMenuItem VisorImagenes;
    private javax.swing.JMenuItem barManual;
    private javax.swing.JDesktopPane escritorio;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JMenuItem menuAtencion;
    public static javax.swing.JTextField txtMedicoWelcome;
    // End of variables declaration//GEN-END:variables
}
